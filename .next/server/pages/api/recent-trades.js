"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/recent-trades";
exports.ids = ["pages/api/recent-trades"];
exports.modules = {

/***/ "(api-node)/./crypto-trading-bot/src/bot/exchange/binance.ts":
/*!********************************************************!*\
  !*** ./crypto-trading-bot/src/bot/exchange/binance.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BinanceExchange: () => (/* binding */ BinanceExchange)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(api-node)/./crypto-trading-bot/node_modules/axios/index.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _notifications_telegram__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../notifications/telegram */ \"(api-node)/./crypto-trading-bot/src/bot/notifications/telegram.ts\");\n\n\n\nclass BinanceExchange {\n    constructor(apiKey, apiSecret, user, mlAdapter){\n        this.apiKey = '';\n        this.apiSecret = '';\n        this.baseUrl = process.env.BINANCE_BASE_URL || 'https://api.binance.com/api/v3';\n        this.tradeLimit = 5; // Default max trades per session\n        this.tradesExecuted = 0;\n        this.minTradeSize = 0.001; // Example minimum trade size\n        this.recentTrades = [];\n        this.demoMode = false;\n        this.authenticate(apiKey, apiSecret);\n        if (user) this.user = user;\n        if (mlAdapter) this.mlAdapter = mlAdapter;\n    }\n    authenticate(apiKey, apiSecret) {\n        this.apiKey = apiKey || process.env.BINANCE_API_KEY || '';\n        this.apiSecret = apiSecret || process.env.BINANCE_API_SECRET || '';\n        this.demoMode = !this.apiKey || !this.apiSecret;\n    }\n    isSignedEndpoint(endpoint) {\n        // Known signed endpoints; extend as needed\n        return [\n            '/account',\n            '/order',\n            '/order/oco',\n            '/openOrders',\n            '/myTrades'\n        ].includes(endpoint);\n    }\n    async sendRequest(endpoint, method = 'GET', data = null) {\n        if (this.demoMode) {\n            if (endpoint === '/exchangeInfo') {\n                return {\n                    symbols: [\n                        {\n                            symbol: 'BTCUSDT'\n                        },\n                        {\n                            symbol: 'ETHUSDT'\n                        }\n                    ]\n                };\n            }\n            if (endpoint === '/account') {\n                return {\n                    balances: [\n                        {\n                            asset: 'BTC',\n                            free: '1.0'\n                        },\n                        {\n                            asset: 'USDT',\n                            free: '10000.0'\n                        }\n                    ]\n                };\n            }\n            if (endpoint === '/order' || endpoint === '/order/oco') {\n                return {\n                    status: 'FILLED',\n                    orderId: Math.floor(Math.random() * 100000)\n                };\n            }\n            return {\n                demo: true,\n                endpoint\n            };\n        }\n        const methodUpper = (method || 'GET').toUpperCase();\n        let url = `${this.baseUrl}${endpoint}`;\n        const headers = {\n            'X-MBX-APIKEY': this.apiKey\n        };\n        try {\n            // Prepare params/signature\n            if (this.isSignedEndpoint(endpoint)) {\n                const params = {\n                    ...data || {},\n                    timestamp: Date.now(),\n                    recvWindow: 5000\n                };\n                const qs = new URLSearchParams(Object.entries(params).map(([k, v])=>[\n                        k,\n                        v !== undefined && v !== null ? String(v) : ''\n                    ])).toString();\n                const signature = crypto__WEBPACK_IMPORTED_MODULE_1___default().createHmac('sha256', this.apiSecret).update(qs).digest('hex');\n                if (methodUpper === 'GET') {\n                    url = `${url}?${qs}&signature=${signature}`;\n                    const response = await axios__WEBPACK_IMPORTED_MODULE_0___default()({\n                        method: 'GET',\n                        url,\n                        headers\n                    });\n                    return response.data;\n                } else {\n                    headers['Content-Type'] = 'application/x-www-form-urlencoded';\n                    const body = `${qs}&signature=${signature}`;\n                    const response = await axios__WEBPACK_IMPORTED_MODULE_0___default()({\n                        method: methodUpper,\n                        url,\n                        headers,\n                        data: body\n                    });\n                    return response.data;\n                }\n            } else {\n                if (methodUpper === 'GET') {\n                    const qs = data ? new URLSearchParams(Object.entries(data).map(([k, v])=>[\n                            k,\n                            v !== undefined && v !== null ? String(v) : ''\n                        ])).toString() : '';\n                    if (qs) url = `${url}?${qs}`;\n                    const response = await axios__WEBPACK_IMPORTED_MODULE_0___default()({\n                        method: 'GET',\n                        url,\n                        headers\n                    });\n                    return response.data;\n                } else {\n                    const response = await axios__WEBPACK_IMPORTED_MODULE_0___default()({\n                        method: methodUpper,\n                        url,\n                        headers,\n                        data\n                    });\n                    return response.data;\n                }\n            }\n        } catch (error) {\n            if ((0,axios__WEBPACK_IMPORTED_MODULE_0__.isAxiosError)(error)) {\n                const status = error.response?.status;\n                const msg = error.response?.data?.msg || error.message;\n                throw new Error(`Binance API request failed${status ? ` (status ${status})` : ''}: ${msg}`);\n            }\n            if (error instanceof Error) {\n                throw new Error(`Binance API request failed: ${error.message}`);\n            }\n            throw new Error('Binance API request failed: Unknown error');\n        }\n    }\n    async getAllPairs() {\n        return await this.sendRequest('/exchangeInfo');\n    }\n    setTradeLimit(limit) {\n        this.tradeLimit = limit;\n    }\n    setMinTradeSize(size) {\n        this.minTradeSize = size;\n    }\n    setTelegramNotifier(botToken, chatId) {\n        this.telegramNotifier = new _notifications_telegram__WEBPACK_IMPORTED_MODULE_2__.TelegramNotifier(botToken, chatId);\n    }\n    getUserInfo() {\n        return this.user ? {\n            id: this.user.id,\n            name: this.user.name\n        } : null;\n    }\n    getMLInfo() {\n        if (!this.mlAdapter) return null;\n        // Example: Return last adaptation or prediction (expand as needed)\n        return {\n            lastAdaptation: this.lastAdaptation || null\n        };\n    }\n    getRecentTrades(limit = 10) {\n        return this.recentTrades.slice(-limit);\n    }\n    async placeOrder(symbol, side, quantity, price, stopLoss, takeProfit) {\n        // Parameter validation\n        if (!symbol || !side || !quantity || !price) {\n            throw new Error('Missing required parameters for placing order.');\n        }\n        if (quantity < this.minTradeSize) {\n            throw new Error(`Trade size must be at least ${this.minTradeSize}`);\n        }\n        if (quantity <= 0 || price <= 0) {\n            throw new Error('Quantity and price must be positive numbers.');\n        }\n        if (this.tradesExecuted >= this.tradeLimit) {\n            throw new Error('Trade limit reached for this session.');\n        }\n        // OCO order for stop-loss/take-profit\n        let result;\n        if (stopLoss && takeProfit) {\n            const ocoOrderData = {\n                symbol,\n                side,\n                quantity,\n                price: takeProfit,\n                stopPrice: stopLoss,\n                stopLimitPrice: stopLoss,\n                stopLimitTimeInForce: 'GTC'\n            };\n            this.tradesExecuted++;\n            result = await this.sendRequest('/order/oco', 'POST', ocoOrderData);\n        } else {\n            const orderData = {\n                symbol,\n                side,\n                type: 'LIMIT',\n                quantity,\n                price,\n                timeInForce: 'GTC'\n            };\n            this.tradesExecuted++;\n            result = await this.sendRequest('/order', 'POST', orderData);\n        }\n        // Record trade\n        this.recentTrades.push({\n            symbol,\n            side,\n            quantity,\n            price,\n            stopLoss,\n            takeProfit,\n            time: new Date(),\n            result\n        });\n        // Optionally record ML adaptation\n        if (this.mlAdapter) {\n            this.lastAdaptation = this.mlAdapter.adaptStrategy('default', this.recentTrades, {});\n        }\n        return result;\n    }\n    async getAccountInfo() {\n        return await this.sendRequest('/account');\n    }\n    async executeTradeFromSignal(symbol, signal, price, options) {\n        if (signal === 'HOLD') {\n            return {\n                status: 'No trade executed',\n                reason: 'Signal is HOLD'\n            };\n        }\n        const tradeSize = options?.tradeSize || this.minTradeSize;\n        const stopLoss = options?.stopLoss;\n        const takeProfit = options?.takeProfit;\n        if (this.tradesExecuted >= this.tradeLimit) {\n            return {\n                status: 'Trade limit reached',\n                reason: 'No trade executed'\n            };\n        }\n        const result = await this.placeOrder(symbol, signal, tradeSize, price, stopLoss, takeProfit);\n        // Send Telegram notification if configured\n        if (this.telegramNotifier) {\n            const msg = `Trade executed: ${signal} ${tradeSize} ${symbol} at ${price}`;\n            await this.telegramNotifier.sendTradeNotification(msg);\n        }\n        return result;\n    }\n    // Example: Adapt strategy before executing trade\n    adaptAndExecuteStrategy(strategyName, tradeHistory, marketData, ...args) {\n        if (this.mlAdapter) {\n            const updatedParams = this.mlAdapter.adaptStrategy(strategyName, tradeHistory, marketData);\n        // Use updatedParams to modify strategy or trade args\n        // ...\n        }\n    // Proceed to execute strategy/trade\n    }\n    // Dashboard integration points\n    // Example: Export trade execution events for dashboard monitoring\n    getTradeStats() {\n        return {\n            tradesExecuted: this.tradesExecuted,\n            tradeLimit: this.tradeLimit,\n            minTradeSize: this.minTradeSize\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2NyeXB0by10cmFkaW5nLWJvdC9zcmMvYm90L2V4Y2hhbmdlL2JpbmFuY2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9EO0FBQ3hCO0FBRWlDO0FBSXRELE1BQU1JO0lBY1QsWUFBWUMsTUFBZSxFQUFFQyxTQUFrQixFQUFFQyxJQUFXLEVBQUVDLFNBQWtDLENBQUU7YUFiMUZILFNBQWlCO2FBQ2pCQyxZQUFvQjthQUNwQkcsVUFBa0JDLFFBQVFDLEdBQUcsQ0FBQ0MsZ0JBQWdCLElBQUk7YUFDbERDLGFBQXFCLEdBQUcsaUNBQWlDO2FBQ3pEQyxpQkFBeUI7YUFDekJDLGVBQXVCLE9BQU8sNkJBQTZCO2FBSTNEQyxlQUFzQixFQUFFO2FBRXhCQyxXQUFvQjtRQUd4QixJQUFJLENBQUNDLFlBQVksQ0FBQ2IsUUFBUUM7UUFDMUIsSUFBSUMsTUFBTSxJQUFJLENBQUNBLElBQUksR0FBR0E7UUFDdEIsSUFBSUMsV0FBVyxJQUFJLENBQUNBLFNBQVMsR0FBR0E7SUFDcEM7SUFFT1UsYUFBYWIsTUFBZSxFQUFFQyxTQUFrQixFQUFRO1FBQzNELElBQUksQ0FBQ0QsTUFBTSxHQUFHQSxVQUFVSyxRQUFRQyxHQUFHLENBQUNRLGVBQWUsSUFBSTtRQUN2RCxJQUFJLENBQUNiLFNBQVMsR0FBR0EsYUFBYUksUUFBUUMsR0FBRyxDQUFDUyxrQkFBa0IsSUFBSTtRQUNoRSxJQUFJLENBQUNILFFBQVEsR0FBRyxDQUFDLElBQUksQ0FBQ1osTUFBTSxJQUFJLENBQUMsSUFBSSxDQUFDQyxTQUFTO0lBQ25EO0lBRVFlLGlCQUFpQkMsUUFBZ0IsRUFBVztRQUNoRCwyQ0FBMkM7UUFDM0MsT0FBTztZQUFDO1lBQVk7WUFBVTtZQUFjO1lBQWU7U0FBWSxDQUFDQyxRQUFRLENBQUNEO0lBQ3JGO0lBRUEsTUFBY0UsWUFBWUYsUUFBZ0IsRUFBRUcsU0FBaUIsS0FBSyxFQUFFQyxPQUFZLElBQUksRUFBRTtRQUNsRixJQUFJLElBQUksQ0FBQ1QsUUFBUSxFQUFFO1lBQ2YsSUFBSUssYUFBYSxpQkFBaUI7Z0JBQzlCLE9BQU87b0JBQUVLLFNBQVM7d0JBQUM7NEJBQUVDLFFBQVE7d0JBQVU7d0JBQUc7NEJBQUVBLFFBQVE7d0JBQVU7cUJBQUU7Z0JBQUM7WUFDckU7WUFDQSxJQUFJTixhQUFhLFlBQVk7Z0JBQ3pCLE9BQU87b0JBQUVPLFVBQVU7d0JBQUM7NEJBQUVDLE9BQU87NEJBQU9DLE1BQU07d0JBQU07d0JBQUc7NEJBQUVELE9BQU87NEJBQVFDLE1BQU07d0JBQVU7cUJBQUU7Z0JBQUM7WUFDM0Y7WUFDQSxJQUFJVCxhQUFhLFlBQVlBLGFBQWEsY0FBYztnQkFDcEQsT0FBTztvQkFBRVUsUUFBUTtvQkFBVUMsU0FBU0MsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxNQUFNLEtBQUs7Z0JBQVE7WUFDM0U7WUFDQSxPQUFPO2dCQUFFQyxNQUFNO2dCQUFNZjtZQUFTO1FBQ2xDO1FBRUEsTUFBTWdCLGNBQWMsQ0FBQ2IsVUFBVSxLQUFJLEVBQUdjLFdBQVc7UUFDakQsSUFBSUMsTUFBTSxHQUFHLElBQUksQ0FBQy9CLE9BQU8sR0FBR2EsVUFBVTtRQUN0QyxNQUFNbUIsVUFBa0M7WUFDcEMsZ0JBQWdCLElBQUksQ0FBQ3BDLE1BQU07UUFDL0I7UUFFQSxJQUFJO1lBQ0EsMkJBQTJCO1lBQzNCLElBQUksSUFBSSxDQUFDZ0IsZ0JBQWdCLENBQUNDLFdBQVc7Z0JBQ2pDLE1BQU1vQixTQUFTO29CQUFFLEdBQUloQixRQUFRLENBQUMsQ0FBQztvQkFBR2lCLFdBQVdDLEtBQUtDLEdBQUc7b0JBQUlDLFlBQVk7Z0JBQUs7Z0JBQzFFLE1BQU1DLEtBQUssSUFBSUMsZ0JBQ1hDLE9BQU9DLE9BQU8sQ0FBQ1IsUUFBUVMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsR0FBR0MsRUFBRSxHQUFLO3dCQUFDRDt3QkFBR0MsTUFBTUMsYUFBYUQsTUFBTSxPQUFPRSxPQUFPRixLQUFLO3FCQUFHLEdBQzVGRyxRQUFRO2dCQUNWLE1BQU1DLFlBQVl2RCx3REFBaUIsQ0FBQyxVQUFVLElBQUksQ0FBQ0ksU0FBUyxFQUFFcUQsTUFBTSxDQUFDWixJQUFJYSxNQUFNLENBQUM7Z0JBRWhGLElBQUl0QixnQkFBZ0IsT0FBTztvQkFDdkJFLE1BQU0sR0FBR0EsSUFBSSxDQUFDLEVBQUVPLEdBQUcsV0FBVyxFQUFFVSxXQUFXO29CQUMzQyxNQUFNSSxXQUFXLE1BQU03RCw0Q0FBS0EsQ0FBQzt3QkFBRXlCLFFBQVE7d0JBQU9lO3dCQUFLQztvQkFBUTtvQkFDM0QsT0FBT29CLFNBQVNuQyxJQUFJO2dCQUN4QixPQUFPO29CQUNIZSxPQUFPLENBQUMsZUFBZSxHQUFHO29CQUMxQixNQUFNcUIsT0FBTyxHQUFHZixHQUFHLFdBQVcsRUFBRVUsV0FBVztvQkFDM0MsTUFBTUksV0FBVyxNQUFNN0QsNENBQUtBLENBQUM7d0JBQUV5QixRQUFRYTt3QkFBdUJFO3dCQUFLQzt3QkFBU2YsTUFBTW9DO29CQUFLO29CQUN2RixPQUFPRCxTQUFTbkMsSUFBSTtnQkFDeEI7WUFDSixPQUFPO2dCQUNILElBQUlZLGdCQUFnQixPQUFPO29CQUN2QixNQUFNUyxLQUFLckIsT0FBTyxJQUFJc0IsZ0JBQ2xCQyxPQUFPQyxPQUFPLENBQUN4QixNQUFNeUIsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsR0FBR0MsRUFBRSxHQUFLOzRCQUFDRDs0QkFBR0MsTUFBTUMsYUFBYUQsTUFBTSxPQUFPRSxPQUFPRixLQUFLO3lCQUFHLEdBQzFGRyxRQUFRLEtBQUs7b0JBQ2YsSUFBSVQsSUFBSVAsTUFBTSxHQUFHQSxJQUFJLENBQUMsRUFBRU8sSUFBSTtvQkFDNUIsTUFBTWMsV0FBVyxNQUFNN0QsNENBQUtBLENBQUM7d0JBQUV5QixRQUFRO3dCQUFPZTt3QkFBS0M7b0JBQVE7b0JBQzNELE9BQU9vQixTQUFTbkMsSUFBSTtnQkFDeEIsT0FBTztvQkFDSCxNQUFNbUMsV0FBVyxNQUFNN0QsNENBQUtBLENBQUM7d0JBQUV5QixRQUFRYTt3QkFBdUJFO3dCQUFLQzt3QkFBU2Y7b0JBQUs7b0JBQ2pGLE9BQU9tQyxTQUFTbkMsSUFBSTtnQkFDeEI7WUFDSjtRQUNKLEVBQUUsT0FBT3FDLE9BQVk7WUFDakIsSUFBSTlELG1EQUFZQSxDQUFDOEQsUUFBUTtnQkFDckIsTUFBTS9CLFNBQVMrQixNQUFNRixRQUFRLEVBQUU3QjtnQkFDL0IsTUFBTWdDLE1BQU1ELE1BQU1GLFFBQVEsRUFBRW5DLE1BQU1zQyxPQUFPRCxNQUFNRSxPQUFPO2dCQUN0RCxNQUFNLElBQUlDLE1BQ04sQ0FBQywwQkFBMEIsRUFBRWxDLFNBQVMsQ0FBQyxTQUFTLEVBQUVBLE9BQU8sQ0FBQyxDQUFDLEdBQUcsR0FBRyxFQUFFLEVBQUVnQyxLQUFLO1lBRWxGO1lBQ0EsSUFBSUQsaUJBQWlCRyxPQUFPO2dCQUN4QixNQUFNLElBQUlBLE1BQU0sQ0FBQyw0QkFBNEIsRUFBRUgsTUFBTUUsT0FBTyxFQUFFO1lBQ2xFO1lBQ0EsTUFBTSxJQUFJQyxNQUFNO1FBQ3BCO0lBQ0o7SUFFQSxNQUFhQyxjQUFjO1FBQ3ZCLE9BQU8sTUFBTSxJQUFJLENBQUMzQyxXQUFXLENBQUM7SUFDbEM7SUFFTzRDLGNBQWNDLEtBQWEsRUFBUTtRQUN0QyxJQUFJLENBQUN4RCxVQUFVLEdBQUd3RDtJQUN0QjtJQUVPQyxnQkFBZ0JDLElBQVksRUFBUTtRQUN2QyxJQUFJLENBQUN4RCxZQUFZLEdBQUd3RDtJQUN4QjtJQUVPQyxvQkFBb0JDLFFBQWdCLEVBQUVDLE1BQWMsRUFBUTtRQUMvRCxJQUFJLENBQUNDLGdCQUFnQixHQUFHLElBQUl4RSxxRUFBZ0JBLENBQUNzRSxVQUFVQztJQUMzRDtJQUVPRSxjQUFjO1FBQ2pCLE9BQU8sSUFBSSxDQUFDckUsSUFBSSxHQUFHO1lBQUVzRSxJQUFJLElBQUksQ0FBQ3RFLElBQUksQ0FBQ3NFLEVBQUU7WUFBRUMsTUFBTSxJQUFJLENBQUN2RSxJQUFJLENBQUN1RSxJQUFJO1FBQUMsSUFBSTtJQUNwRTtJQUVPQyxZQUFZO1FBQ2YsSUFBSSxDQUFDLElBQUksQ0FBQ3ZFLFNBQVMsRUFBRSxPQUFPO1FBQzVCLG1FQUFtRTtRQUNuRSxPQUFPO1lBQ0h3RSxnQkFBZ0IsSUFBSSxDQUFDQSxjQUFjLElBQUk7UUFDM0M7SUFDSjtJQUVPQyxnQkFBZ0JaLFFBQWdCLEVBQUUsRUFBRTtRQUN2QyxPQUFPLElBQUksQ0FBQ3JELFlBQVksQ0FBQ2tFLEtBQUssQ0FBQyxDQUFDYjtJQUNwQztJQUVBLE1BQWFjLFdBQVd2RCxNQUFjLEVBQUV3RCxJQUFvQixFQUFFQyxRQUFnQixFQUFFQyxLQUFhLEVBQUVDLFFBQWlCLEVBQUVDLFVBQW1CLEVBQUU7UUFDbkksdUJBQXVCO1FBQ3ZCLElBQUksQ0FBQzVELFVBQVUsQ0FBQ3dELFFBQVEsQ0FBQ0MsWUFBWSxDQUFDQyxPQUFPO1lBQ3pDLE1BQU0sSUFBSXBCLE1BQU07UUFDcEI7UUFDQSxJQUFJbUIsV0FBVyxJQUFJLENBQUN0RSxZQUFZLEVBQUU7WUFDOUIsTUFBTSxJQUFJbUQsTUFBTSxDQUFDLDRCQUE0QixFQUFFLElBQUksQ0FBQ25ELFlBQVksRUFBRTtRQUN0RTtRQUNBLElBQUlzRSxZQUFZLEtBQUtDLFNBQVMsR0FBRztZQUM3QixNQUFNLElBQUlwQixNQUFNO1FBQ3BCO1FBQ0EsSUFBSSxJQUFJLENBQUNwRCxjQUFjLElBQUksSUFBSSxDQUFDRCxVQUFVLEVBQUU7WUFDeEMsTUFBTSxJQUFJcUQsTUFBTTtRQUNwQjtRQUVBLHNDQUFzQztRQUN0QyxJQUFJdUI7UUFDSixJQUFJRixZQUFZQyxZQUFZO1lBQ3hCLE1BQU1FLGVBQW9CO2dCQUN0QjlEO2dCQUNBd0Q7Z0JBQ0FDO2dCQUNBQyxPQUFPRTtnQkFDUEcsV0FBV0o7Z0JBQ1hLLGdCQUFnQkw7Z0JBQ2hCTSxzQkFBc0I7WUFDMUI7WUFDQSxJQUFJLENBQUMvRSxjQUFjO1lBQ25CMkUsU0FBUyxNQUFNLElBQUksQ0FBQ2pFLFdBQVcsQ0FBQyxjQUFjLFFBQVFrRTtRQUMxRCxPQUFPO1lBQ0gsTUFBTUksWUFBWTtnQkFDZGxFO2dCQUNBd0Q7Z0JBQ0FXLE1BQU07Z0JBQ05WO2dCQUNBQztnQkFDQVUsYUFBYTtZQUNqQjtZQUNBLElBQUksQ0FBQ2xGLGNBQWM7WUFDbkIyRSxTQUFTLE1BQU0sSUFBSSxDQUFDakUsV0FBVyxDQUFDLFVBQVUsUUFBUXNFO1FBQ3REO1FBQ0EsZUFBZTtRQUNmLElBQUksQ0FBQzlFLFlBQVksQ0FBQ2lGLElBQUksQ0FBQztZQUFFckU7WUFBUXdEO1lBQU1DO1lBQVVDO1lBQU9DO1lBQVVDO1lBQVlVLE1BQU0sSUFBSXREO1lBQVE2QztRQUFPO1FBQ3ZHLGtDQUFrQztRQUNsQyxJQUFJLElBQUksQ0FBQ2pGLFNBQVMsRUFBRTtZQUNoQixJQUFJLENBQUN3RSxjQUFjLEdBQUcsSUFBSSxDQUFDeEUsU0FBUyxDQUFDMkYsYUFBYSxDQUFDLFdBQVcsSUFBSSxDQUFDbkYsWUFBWSxFQUFFLENBQUM7UUFDdEY7UUFDQSxPQUFPeUU7SUFDWDtJQUVBLE1BQWFXLGlCQUFpQjtRQUMxQixPQUFPLE1BQU0sSUFBSSxDQUFDNUUsV0FBVyxDQUFDO0lBQ2xDO0lBRUEsTUFBYTZFLHVCQUNUekUsTUFBYyxFQUNkMEUsTUFBK0IsRUFDL0JoQixLQUFhLEVBQ2JpQixPQUlDLEVBQ0g7UUFDRSxJQUFJRCxXQUFXLFFBQVE7WUFDbkIsT0FBTztnQkFBRXRFLFFBQVE7Z0JBQXFCd0UsUUFBUTtZQUFpQjtRQUNuRTtRQUNBLE1BQU1DLFlBQVlGLFNBQVNFLGFBQWEsSUFBSSxDQUFDMUYsWUFBWTtRQUN6RCxNQUFNd0UsV0FBV2dCLFNBQVNoQjtRQUMxQixNQUFNQyxhQUFhZSxTQUFTZjtRQUM1QixJQUFJLElBQUksQ0FBQzFFLGNBQWMsSUFBSSxJQUFJLENBQUNELFVBQVUsRUFBRTtZQUN4QyxPQUFPO2dCQUFFbUIsUUFBUTtnQkFBdUJ3RSxRQUFRO1lBQW9CO1FBQ3hFO1FBQ0EsTUFBTWYsU0FBUyxNQUFNLElBQUksQ0FBQ04sVUFBVSxDQUFDdkQsUUFBUTBFLFFBQVFHLFdBQVduQixPQUFPQyxVQUFVQztRQUNqRiwyQ0FBMkM7UUFDM0MsSUFBSSxJQUFJLENBQUNiLGdCQUFnQixFQUFFO1lBQ3ZCLE1BQU1YLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRXNDLE9BQU8sQ0FBQyxFQUFFRyxVQUFVLENBQUMsRUFBRTdFLE9BQU8sSUFBSSxFQUFFMEQsT0FBTztZQUMxRSxNQUFNLElBQUksQ0FBQ1gsZ0JBQWdCLENBQUMrQixxQkFBcUIsQ0FBQzFDO1FBQ3REO1FBQ0EsT0FBT3lCO0lBQ1g7SUFFQSxpREFBaUQ7SUFDMUNrQix3QkFBd0JDLFlBQW9CLEVBQUVDLFlBQW1CLEVBQUVDLFVBQWUsRUFBRSxHQUFHQyxJQUFXLEVBQUU7UUFDdkcsSUFBSSxJQUFJLENBQUN2RyxTQUFTLEVBQUU7WUFDaEIsTUFBTXdHLGdCQUFnQixJQUFJLENBQUN4RyxTQUFTLENBQUMyRixhQUFhLENBQUNTLGNBQWNDLGNBQWNDO1FBQy9FLHFEQUFxRDtRQUNyRCxNQUFNO1FBQ1Y7SUFDQSxvQ0FBb0M7SUFDeEM7SUFFQSwrQkFBK0I7SUFDL0Isa0VBQWtFO0lBQzNERyxnQkFBZ0I7UUFDbkIsT0FBTztZQUNIbkcsZ0JBQWdCLElBQUksQ0FBQ0EsY0FBYztZQUNuQ0QsWUFBWSxJQUFJLENBQUNBLFVBQVU7WUFDM0JFLGNBQWMsSUFBSSxDQUFDQSxZQUFZO1FBQ25DO0lBQ0o7QUFHSiIsInNvdXJjZXMiOlsiL2hvbWUvYWRlYmF5by9EZXNrdG9wL2JvdF9ib3QvY3J5cHRvLXRyYWRpbmctYm90L3NyYy9ib3QvZXhjaGFuZ2UvYmluYW5jZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgTWV0aG9kLCBpc0F4aW9zRXJyb3IgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgY3J5cHRvIGZyb20gJ2NyeXB0byc7XG5pbXBvcnQgeyBJRXhjaGFuZ2UgfSBmcm9tICcuL0lFeGNoYW5nZSc7XG5pbXBvcnQgeyBUZWxlZ3JhbU5vdGlmaWVyIH0gZnJvbSAnLi4vbm90aWZpY2F0aW9ucy90ZWxlZ3JhbSc7XG5pbXBvcnQgeyBNYWNoaW5lTGVhcm5pbmdBZGFwdGVyIH0gZnJvbSAnLi4vbWFjaGluZS1sZWFybmluZyc7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi4vdXNlci9Vc2VyTWFuYWdlcic7XG5cbmV4cG9ydCBjbGFzcyBCaW5hbmNlRXhjaGFuZ2UgaW1wbGVtZW50cyBJRXhjaGFuZ2Uge1xuICAgIHByaXZhdGUgYXBpS2V5OiBzdHJpbmcgPSAnJztcbiAgICBwcml2YXRlIGFwaVNlY3JldDogc3RyaW5nID0gJyc7XG4gICAgcHJpdmF0ZSBiYXNlVXJsOiBzdHJpbmcgPSBwcm9jZXNzLmVudi5CSU5BTkNFX0JBU0VfVVJMIHx8ICdodHRwczovL2FwaS5iaW5hbmNlLmNvbS9hcGkvdjMnO1xuICAgIHByaXZhdGUgdHJhZGVMaW1pdDogbnVtYmVyID0gNTsgLy8gRGVmYXVsdCBtYXggdHJhZGVzIHBlciBzZXNzaW9uXG4gICAgcHJpdmF0ZSB0cmFkZXNFeGVjdXRlZDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIG1pblRyYWRlU2l6ZTogbnVtYmVyID0gMC4wMDE7IC8vIEV4YW1wbGUgbWluaW11bSB0cmFkZSBzaXplXG4gICAgcHJpdmF0ZSB0ZWxlZ3JhbU5vdGlmaWVyPzogVGVsZWdyYW1Ob3RpZmllcjtcbiAgICBwcml2YXRlIG1sQWRhcHRlcj86IE1hY2hpbmVMZWFybmluZ0FkYXB0ZXI7XG4gICAgcHJpdmF0ZSB1c2VyPzogVXNlcjtcbiAgICBwcml2YXRlIHJlY2VudFRyYWRlczogYW55W10gPSBbXTtcbiAgICBwcml2YXRlIGxhc3RBZGFwdGF0aW9uOiBhbnk7XG4gICAgcHJpdmF0ZSBkZW1vTW9kZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoYXBpS2V5Pzogc3RyaW5nLCBhcGlTZWNyZXQ/OiBzdHJpbmcsIHVzZXI/OiBVc2VyLCBtbEFkYXB0ZXI/OiBNYWNoaW5lTGVhcm5pbmdBZGFwdGVyKSB7XG4gICAgICAgIHRoaXMuYXV0aGVudGljYXRlKGFwaUtleSwgYXBpU2VjcmV0KTtcbiAgICAgICAgaWYgKHVzZXIpIHRoaXMudXNlciA9IHVzZXI7XG4gICAgICAgIGlmIChtbEFkYXB0ZXIpIHRoaXMubWxBZGFwdGVyID0gbWxBZGFwdGVyO1xuICAgIH1cblxuICAgIHB1YmxpYyBhdXRoZW50aWNhdGUoYXBpS2V5Pzogc3RyaW5nLCBhcGlTZWNyZXQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXkgfHwgcHJvY2Vzcy5lbnYuQklOQU5DRV9BUElfS0VZIHx8ICcnO1xuICAgICAgICB0aGlzLmFwaVNlY3JldCA9IGFwaVNlY3JldCB8fCBwcm9jZXNzLmVudi5CSU5BTkNFX0FQSV9TRUNSRVQgfHwgJyc7XG4gICAgICAgIHRoaXMuZGVtb01vZGUgPSAhdGhpcy5hcGlLZXkgfHwgIXRoaXMuYXBpU2VjcmV0O1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNTaWduZWRFbmRwb2ludChlbmRwb2ludDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIC8vIEtub3duIHNpZ25lZCBlbmRwb2ludHM7IGV4dGVuZCBhcyBuZWVkZWRcbiAgICAgICAgcmV0dXJuIFsnL2FjY291bnQnLCAnL29yZGVyJywgJy9vcmRlci9vY28nLCAnL29wZW5PcmRlcnMnLCAnL215VHJhZGVzJ10uaW5jbHVkZXMoZW5kcG9pbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2VuZFJlcXVlc3QoZW5kcG9pbnQ6IHN0cmluZywgbWV0aG9kOiBzdHJpbmcgPSAnR0VUJywgZGF0YTogYW55ID0gbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5kZW1vTW9kZSkge1xuICAgICAgICAgICAgaWYgKGVuZHBvaW50ID09PSAnL2V4Y2hhbmdlSW5mbycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzeW1ib2xzOiBbeyBzeW1ib2w6ICdCVENVU0RUJyB9LCB7IHN5bWJvbDogJ0VUSFVTRFQnIH1dIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kcG9pbnQgPT09ICcvYWNjb3VudCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBiYWxhbmNlczogW3sgYXNzZXQ6ICdCVEMnLCBmcmVlOiAnMS4wJyB9LCB7IGFzc2V0OiAnVVNEVCcsIGZyZWU6ICcxMDAwMC4wJyB9XSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZHBvaW50ID09PSAnL29yZGVyJyB8fCBlbmRwb2ludCA9PT0gJy9vcmRlci9vY28nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnRklMTEVEJywgb3JkZXJJZDogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMDAwKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZGVtbzogdHJ1ZSwgZW5kcG9pbnQgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG1ldGhvZFVwcGVyID0gKG1ldGhvZCB8fCAnR0VUJykudG9VcHBlckNhc2UoKTtcbiAgICAgICAgbGV0IHVybCA9IGAke3RoaXMuYmFzZVVybH0ke2VuZHBvaW50fWA7XG4gICAgICAgIGNvbnN0IGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gICAgICAgICAgICAnWC1NQlgtQVBJS0VZJzogdGhpcy5hcGlLZXksXG4gICAgICAgIH07XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFByZXBhcmUgcGFyYW1zL3NpZ25hdHVyZVxuICAgICAgICAgICAgaWYgKHRoaXMuaXNTaWduZWRFbmRwb2ludChlbmRwb2ludCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB7IC4uLihkYXRhIHx8IHt9KSwgdGltZXN0YW1wOiBEYXRlLm5vdygpLCByZWN2V2luZG93OiA1MDAwIH0gYXMgUmVjb3JkPHN0cmluZywgYW55PjtcbiAgICAgICAgICAgICAgICBjb25zdCBxcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKHBhcmFtcykubWFwKChbaywgdl0pID0+IFtrLCB2ICE9PSB1bmRlZmluZWQgJiYgdiAhPT0gbnVsbCA/IFN0cmluZyh2KSA6ICcnXSlcbiAgICAgICAgICAgICAgICApLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gY3J5cHRvLmNyZWF0ZUhtYWMoJ3NoYTI1NicsIHRoaXMuYXBpU2VjcmV0KS51cGRhdGUocXMpLmRpZ2VzdCgnaGV4Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kVXBwZXIgPT09ICdHRVQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IGAke3VybH0/JHtxc30mc2lnbmF0dXJlPSR7c2lnbmF0dXJlfWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MoeyBtZXRob2Q6ICdHRVQnLCB1cmwsIGhlYWRlcnMgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCc7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJvZHkgPSBgJHtxc30mc2lnbmF0dXJlPSR7c2lnbmF0dXJlfWA7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MoeyBtZXRob2Q6IG1ldGhvZFVwcGVyIGFzIE1ldGhvZCwgdXJsLCBoZWFkZXJzLCBkYXRhOiBib2R5IH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChtZXRob2RVcHBlciA9PT0gJ0dFVCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcXMgPSBkYXRhID8gbmV3IFVSTFNlYXJjaFBhcmFtcyhcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5lbnRyaWVzKGRhdGEpLm1hcCgoW2ssIHZdKSA9PiBbaywgdiAhPT0gdW5kZWZpbmVkICYmIHYgIT09IG51bGwgPyBTdHJpbmcodikgOiAnJ10pXG4gICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKSA6ICcnO1xuICAgICAgICAgICAgICAgICAgICBpZiAocXMpIHVybCA9IGAke3VybH0/JHtxc31gO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zKHsgbWV0aG9kOiAnR0VUJywgdXJsLCBoZWFkZXJzIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zKHsgbWV0aG9kOiBtZXRob2RVcHBlciBhcyBNZXRob2QsIHVybCwgaGVhZGVycywgZGF0YSB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgICAgICBpZiAoaXNBeGlvc0Vycm9yKGVycm9yKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGVycm9yLnJlc3BvbnNlPy5zdGF0dXM7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNnID0gZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1zZyB8fCBlcnJvci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgICAgYEJpbmFuY2UgQVBJIHJlcXVlc3QgZmFpbGVkJHtzdGF0dXMgPyBgIChzdGF0dXMgJHtzdGF0dXN9KWAgOiAnJ306ICR7bXNnfWBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEJpbmFuY2UgQVBJIHJlcXVlc3QgZmFpbGVkOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JpbmFuY2UgQVBJIHJlcXVlc3QgZmFpbGVkOiBVbmtub3duIGVycm9yJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZ2V0QWxsUGFpcnMoKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCcvZXhjaGFuZ2VJbmZvJyk7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFRyYWRlTGltaXQobGltaXQ6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnRyYWRlTGltaXQgPSBsaW1pdDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0TWluVHJhZGVTaXplKHNpemU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLm1pblRyYWRlU2l6ZSA9IHNpemU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldFRlbGVncmFtTm90aWZpZXIoYm90VG9rZW46IHN0cmluZywgY2hhdElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50ZWxlZ3JhbU5vdGlmaWVyID0gbmV3IFRlbGVncmFtTm90aWZpZXIoYm90VG9rZW4sIGNoYXRJZCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFVzZXJJbmZvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy51c2VyID8geyBpZDogdGhpcy51c2VyLmlkLCBuYW1lOiB0aGlzLnVzZXIubmFtZSB9IDogbnVsbDtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0TUxJbmZvKCkge1xuICAgICAgICBpZiAoIXRoaXMubWxBZGFwdGVyKSByZXR1cm4gbnVsbDtcbiAgICAgICAgLy8gRXhhbXBsZTogUmV0dXJuIGxhc3QgYWRhcHRhdGlvbiBvciBwcmVkaWN0aW9uIChleHBhbmQgYXMgbmVlZGVkKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGFzdEFkYXB0YXRpb246IHRoaXMubGFzdEFkYXB0YXRpb24gfHwgbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0UmVjZW50VHJhZGVzKGxpbWl0OiBudW1iZXIgPSAxMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWNlbnRUcmFkZXMuc2xpY2UoLWxpbWl0KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgcGxhY2VPcmRlcihzeW1ib2w6IHN0cmluZywgc2lkZTogJ0JVWScgfCAnU0VMTCcsIHF1YW50aXR5OiBudW1iZXIsIHByaWNlOiBudW1iZXIsIHN0b3BMb3NzPzogbnVtYmVyLCB0YWtlUHJvZml0PzogbnVtYmVyKSB7XG4gICAgICAgIC8vIFBhcmFtZXRlciB2YWxpZGF0aW9uXG4gICAgICAgIGlmICghc3ltYm9sIHx8ICFzaWRlIHx8ICFxdWFudGl0eSB8fCAhcHJpY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyByZXF1aXJlZCBwYXJhbWV0ZXJzIGZvciBwbGFjaW5nIG9yZGVyLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWFudGl0eSA8IHRoaXMubWluVHJhZGVTaXplKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRyYWRlIHNpemUgbXVzdCBiZSBhdCBsZWFzdCAke3RoaXMubWluVHJhZGVTaXplfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxdWFudGl0eSA8PSAwIHx8IHByaWNlIDw9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUXVhbnRpdHkgYW5kIHByaWNlIG11c3QgYmUgcG9zaXRpdmUgbnVtYmVycy4nKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50cmFkZXNFeGVjdXRlZCA+PSB0aGlzLnRyYWRlTGltaXQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVHJhZGUgbGltaXQgcmVhY2hlZCBmb3IgdGhpcyBzZXNzaW9uLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT0NPIG9yZGVyIGZvciBzdG9wLWxvc3MvdGFrZS1wcm9maXRcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgaWYgKHN0b3BMb3NzICYmIHRha2VQcm9maXQpIHtcbiAgICAgICAgICAgIGNvbnN0IG9jb09yZGVyRGF0YTogYW55ID0ge1xuICAgICAgICAgICAgICAgIHN5bWJvbCxcbiAgICAgICAgICAgICAgICBzaWRlLFxuICAgICAgICAgICAgICAgIHF1YW50aXR5LFxuICAgICAgICAgICAgICAgIHByaWNlOiB0YWtlUHJvZml0LFxuICAgICAgICAgICAgICAgIHN0b3BQcmljZTogc3RvcExvc3MsXG4gICAgICAgICAgICAgICAgc3RvcExpbWl0UHJpY2U6IHN0b3BMb3NzLFxuICAgICAgICAgICAgICAgIHN0b3BMaW1pdFRpbWVJbkZvcmNlOiAnR1RDJyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLnRyYWRlc0V4ZWN1dGVkKys7XG4gICAgICAgICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCcvb3JkZXIvb2NvJywgJ1BPU1QnLCBvY29PcmRlckRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIHN5bWJvbCxcbiAgICAgICAgICAgICAgICBzaWRlLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdMSU1JVCcsXG4gICAgICAgICAgICAgICAgcXVhbnRpdHksXG4gICAgICAgICAgICAgICAgcHJpY2UsXG4gICAgICAgICAgICAgICAgdGltZUluRm9yY2U6ICdHVEMnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMudHJhZGVzRXhlY3V0ZWQrKztcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJy9vcmRlcicsICdQT1NUJywgb3JkZXJEYXRhKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWNvcmQgdHJhZGVcbiAgICAgICAgdGhpcy5yZWNlbnRUcmFkZXMucHVzaCh7IHN5bWJvbCwgc2lkZSwgcXVhbnRpdHksIHByaWNlLCBzdG9wTG9zcywgdGFrZVByb2ZpdCwgdGltZTogbmV3IERhdGUoKSwgcmVzdWx0IH0pO1xuICAgICAgICAvLyBPcHRpb25hbGx5IHJlY29yZCBNTCBhZGFwdGF0aW9uXG4gICAgICAgIGlmICh0aGlzLm1sQWRhcHRlcikge1xuICAgICAgICAgICAgdGhpcy5sYXN0QWRhcHRhdGlvbiA9IHRoaXMubWxBZGFwdGVyLmFkYXB0U3RyYXRlZ3koJ2RlZmF1bHQnLCB0aGlzLnJlY2VudFRyYWRlcywge30pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIGdldEFjY291bnRJbmZvKCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnL2FjY291bnQnKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgZXhlY3V0ZVRyYWRlRnJvbVNpZ25hbChcbiAgICAgICAgc3ltYm9sOiBzdHJpbmcsXG4gICAgICAgIHNpZ25hbDogJ0JVWScgfCAnU0VMTCcgfCAnSE9MRCcsXG4gICAgICAgIHByaWNlOiBudW1iZXIsXG4gICAgICAgIG9wdGlvbnM/OiB7XG4gICAgICAgICAgICB0cmFkZVNpemU/OiBudW1iZXI7XG4gICAgICAgICAgICBzdG9wTG9zcz86IG51bWJlcjtcbiAgICAgICAgICAgIHRha2VQcm9maXQ/OiBudW1iZXI7XG4gICAgICAgIH1cbiAgICApIHtcbiAgICAgICAgaWYgKHNpZ25hbCA9PT0gJ0hPTEQnKSB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6ICdObyB0cmFkZSBleGVjdXRlZCcsIHJlYXNvbjogJ1NpZ25hbCBpcyBIT0xEJyB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRyYWRlU2l6ZSA9IG9wdGlvbnM/LnRyYWRlU2l6ZSB8fCB0aGlzLm1pblRyYWRlU2l6ZTtcbiAgICAgICAgY29uc3Qgc3RvcExvc3MgPSBvcHRpb25zPy5zdG9wTG9zcztcbiAgICAgICAgY29uc3QgdGFrZVByb2ZpdCA9IG9wdGlvbnM/LnRha2VQcm9maXQ7XG4gICAgICAgIGlmICh0aGlzLnRyYWRlc0V4ZWN1dGVkID49IHRoaXMudHJhZGVMaW1pdCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiAnVHJhZGUgbGltaXQgcmVhY2hlZCcsIHJlYXNvbjogJ05vIHRyYWRlIGV4ZWN1dGVkJyB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucGxhY2VPcmRlcihzeW1ib2wsIHNpZ25hbCwgdHJhZGVTaXplLCBwcmljZSwgc3RvcExvc3MsIHRha2VQcm9maXQpO1xuICAgICAgICAvLyBTZW5kIFRlbGVncmFtIG5vdGlmaWNhdGlvbiBpZiBjb25maWd1cmVkXG4gICAgICAgIGlmICh0aGlzLnRlbGVncmFtTm90aWZpZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBUcmFkZSBleGVjdXRlZDogJHtzaWduYWx9ICR7dHJhZGVTaXplfSAke3N5bWJvbH0gYXQgJHtwcmljZX1gO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy50ZWxlZ3JhbU5vdGlmaWVyLnNlbmRUcmFkZU5vdGlmaWNhdGlvbihtc2cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gRXhhbXBsZTogQWRhcHQgc3RyYXRlZ3kgYmVmb3JlIGV4ZWN1dGluZyB0cmFkZVxuICAgIHB1YmxpYyBhZGFwdEFuZEV4ZWN1dGVTdHJhdGVneShzdHJhdGVneU5hbWU6IHN0cmluZywgdHJhZGVIaXN0b3J5OiBhbnlbXSwgbWFya2V0RGF0YTogYW55LCAuLi5hcmdzOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5tbEFkYXB0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZWRQYXJhbXMgPSB0aGlzLm1sQWRhcHRlci5hZGFwdFN0cmF0ZWd5KHN0cmF0ZWd5TmFtZSwgdHJhZGVIaXN0b3J5LCBtYXJrZXREYXRhKTtcbiAgICAgICAgICAgIC8vIFVzZSB1cGRhdGVkUGFyYW1zIHRvIG1vZGlmeSBzdHJhdGVneSBvciB0cmFkZSBhcmdzXG4gICAgICAgICAgICAvLyAuLi5cbiAgICAgICAgfVxuICAgICAgICAvLyBQcm9jZWVkIHRvIGV4ZWN1dGUgc3RyYXRlZ3kvdHJhZGVcbiAgICB9XG5cbiAgICAvLyBEYXNoYm9hcmQgaW50ZWdyYXRpb24gcG9pbnRzXG4gICAgLy8gRXhhbXBsZTogRXhwb3J0IHRyYWRlIGV4ZWN1dGlvbiBldmVudHMgZm9yIGRhc2hib2FyZCBtb25pdG9yaW5nXG4gICAgcHVibGljIGdldFRyYWRlU3RhdHMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0cmFkZXNFeGVjdXRlZDogdGhpcy50cmFkZXNFeGVjdXRlZCxcbiAgICAgICAgICAgIHRyYWRlTGltaXQ6IHRoaXMudHJhZGVMaW1pdCxcbiAgICAgICAgICAgIG1pblRyYWRlU2l6ZTogdGhpcy5taW5UcmFkZVNpemUsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gQWRkaXRpb25hbCBtZXRob2RzIGZvciBoYW5kbGluZyB0cmFkZXMsIGZldGNoaW5nIG1hcmtldCBkYXRhLCBldGMuIGNhbiBiZSBhZGRlZCBoZXJlXG59XG4iXSwibmFtZXMiOlsiYXhpb3MiLCJpc0F4aW9zRXJyb3IiLCJjcnlwdG8iLCJUZWxlZ3JhbU5vdGlmaWVyIiwiQmluYW5jZUV4Y2hhbmdlIiwiYXBpS2V5IiwiYXBpU2VjcmV0IiwidXNlciIsIm1sQWRhcHRlciIsImJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiQklOQU5DRV9CQVNFX1VSTCIsInRyYWRlTGltaXQiLCJ0cmFkZXNFeGVjdXRlZCIsIm1pblRyYWRlU2l6ZSIsInJlY2VudFRyYWRlcyIsImRlbW9Nb2RlIiwiYXV0aGVudGljYXRlIiwiQklOQU5DRV9BUElfS0VZIiwiQklOQU5DRV9BUElfU0VDUkVUIiwiaXNTaWduZWRFbmRwb2ludCIsImVuZHBvaW50IiwiaW5jbHVkZXMiLCJzZW5kUmVxdWVzdCIsIm1ldGhvZCIsImRhdGEiLCJzeW1ib2xzIiwic3ltYm9sIiwiYmFsYW5jZXMiLCJhc3NldCIsImZyZWUiLCJzdGF0dXMiLCJvcmRlcklkIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZGVtbyIsIm1ldGhvZFVwcGVyIiwidG9VcHBlckNhc2UiLCJ1cmwiLCJoZWFkZXJzIiwicGFyYW1zIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInJlY3ZXaW5kb3ciLCJxcyIsIlVSTFNlYXJjaFBhcmFtcyIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJrIiwidiIsInVuZGVmaW5lZCIsIlN0cmluZyIsInRvU3RyaW5nIiwic2lnbmF0dXJlIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsInJlc3BvbnNlIiwiYm9keSIsImVycm9yIiwibXNnIiwibWVzc2FnZSIsIkVycm9yIiwiZ2V0QWxsUGFpcnMiLCJzZXRUcmFkZUxpbWl0IiwibGltaXQiLCJzZXRNaW5UcmFkZVNpemUiLCJzaXplIiwic2V0VGVsZWdyYW1Ob3RpZmllciIsImJvdFRva2VuIiwiY2hhdElkIiwidGVsZWdyYW1Ob3RpZmllciIsImdldFVzZXJJbmZvIiwiaWQiLCJuYW1lIiwiZ2V0TUxJbmZvIiwibGFzdEFkYXB0YXRpb24iLCJnZXRSZWNlbnRUcmFkZXMiLCJzbGljZSIsInBsYWNlT3JkZXIiLCJzaWRlIiwicXVhbnRpdHkiLCJwcmljZSIsInN0b3BMb3NzIiwidGFrZVByb2ZpdCIsInJlc3VsdCIsIm9jb09yZGVyRGF0YSIsInN0b3BQcmljZSIsInN0b3BMaW1pdFByaWNlIiwic3RvcExpbWl0VGltZUluRm9yY2UiLCJvcmRlckRhdGEiLCJ0eXBlIiwidGltZUluRm9yY2UiLCJwdXNoIiwidGltZSIsImFkYXB0U3RyYXRlZ3kiLCJnZXRBY2NvdW50SW5mbyIsImV4ZWN1dGVUcmFkZUZyb21TaWduYWwiLCJzaWduYWwiLCJvcHRpb25zIiwicmVhc29uIiwidHJhZGVTaXplIiwic2VuZFRyYWRlTm90aWZpY2F0aW9uIiwiYWRhcHRBbmRFeGVjdXRlU3RyYXRlZ3kiLCJzdHJhdGVneU5hbWUiLCJ0cmFkZUhpc3RvcnkiLCJtYXJrZXREYXRhIiwiYXJncyIsInVwZGF0ZWRQYXJhbXMiLCJnZXRUcmFkZVN0YXRzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./crypto-trading-bot/src/bot/exchange/binance.ts\n");

/***/ }),

/***/ "(api-node)/./crypto-trading-bot/src/bot/machine-learning/index.ts":
/*!**************************************************************!*\
  !*** ./crypto-trading-bot/src/bot/machine-learning/index.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MachineLearning: () => (/* binding */ MachineLearning),\n/* harmony export */   MachineLearningAdapter: () => (/* binding */ MachineLearningAdapter),\n/* harmony export */   SimpleRegressionModel: () => (/* binding */ SimpleRegressionModel),\n/* harmony export */   StrategyAdapter: () => (/* binding */ StrategyAdapter)\n/* harmony export */ });\nclass SimpleRegressionModel {\n    predict(features) {\n        if (this.weights.length !== features.length) return 0;\n        return features.reduce((sum, f, i)=>sum + f * this.weights[i], 0);\n    }\n    fit(features, targets) {\n        // Placeholder: set all weights to 1\n        this.weights = Array(features[0].length).fill(1);\n    }\n    constructor(){\n        this.weights = [];\n    }\n}\nclass StrategyAdapter {\n    constructor(model){\n        this.model = model || new SimpleRegressionModel();\n    }\n    adaptSignal(strategySignal, marketFeatures) {\n        const prediction = this.model.predict(marketFeatures);\n        if (prediction > 0.5) return 'BUY';\n        if (prediction < -0.5) return 'SELL';\n        return strategySignal;\n    }\n    train(features, targets) {\n        this.model.fit(features, targets);\n    }\n}\nclass MachineLearning {\n    constructor(){\n    // Initialize any necessary properties for machine learning\n    }\n    adaptStrategies(marketData) {\n    // Implement logic to adapt trading strategies based on live market conditions\n    // This could involve training models or adjusting parameters based on market trends\n    }\n    predictMarketMovement(data) {\n        // Implement a method to predict market movement based on historical data\n        // Return a prediction value (e.g., price movement direction)\n        return 0; // Placeholder return value\n    }\n    evaluateStrategyPerformance(strategyData) {\n    // Implement logic to evaluate the performance of trading strategies\n    // This could involve backtesting or analyzing past trades\n    }\n}\nclass MachineLearningAdapter {\n    constructor(){\n    // Initialize ML model, load weights, etc.\n    }\n    // Example: Update strategy parameters based on recent trades and market data\n    adaptStrategy(strategyName, tradeHistory, marketData) {\n        // Placeholder: Implement ML logic here (e.g., reinforcement learning, online learning)\n        // Return updated strategy parameters\n        return {};\n    }\n    // Example: Predict next action or signal\n    predictSignal(strategyName, marketData) {\n        // Placeholder: Implement prediction logic\n        return 'HOLD';\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2NyeXB0by10cmFkaW5nLWJvdC9zcmMvYm90L21hY2hpbmUtbGVhcm5pbmcvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUtPLE1BQU1BO0lBR1RDLFFBQVFDLFFBQWtCLEVBQVU7UUFDaEMsSUFBSSxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsTUFBTSxLQUFLRixTQUFTRSxNQUFNLEVBQUUsT0FBTztRQUNwRCxPQUFPRixTQUFTRyxNQUFNLENBQUMsQ0FBQ0MsS0FBS0MsR0FBR0MsSUFBTUYsTUFBTUMsSUFBSSxJQUFJLENBQUNKLE9BQU8sQ0FBQ0ssRUFBRSxFQUFFO0lBQ3JFO0lBRUFDLElBQUlQLFFBQW9CLEVBQUVRLE9BQWlCLEVBQVE7UUFDL0Msb0NBQW9DO1FBQ3BDLElBQUksQ0FBQ1AsT0FBTyxHQUFHUSxNQUFNVCxRQUFRLENBQUMsRUFBRSxDQUFDRSxNQUFNLEVBQUVRLElBQUksQ0FBQztJQUNsRDs7YUFWUVQsVUFBb0IsRUFBRTs7QUFXbEM7QUFFTyxNQUFNVTtJQUdULFlBQVlDLEtBQWUsQ0FBRTtRQUN6QixJQUFJLENBQUNBLEtBQUssR0FBR0EsU0FBUyxJQUFJZDtJQUM5QjtJQUVPZSxZQUFZQyxjQUF1QyxFQUFFQyxjQUF3QixFQUEyQjtRQUMzRyxNQUFNQyxhQUFhLElBQUksQ0FBQ0osS0FBSyxDQUFDYixPQUFPLENBQUNnQjtRQUN0QyxJQUFJQyxhQUFhLEtBQUssT0FBTztRQUM3QixJQUFJQSxhQUFhLENBQUMsS0FBSyxPQUFPO1FBQzlCLE9BQU9GO0lBQ1g7SUFFT0csTUFBTWpCLFFBQW9CLEVBQUVRLE9BQWlCLEVBQVE7UUFDeEQsSUFBSSxDQUFDSSxLQUFLLENBQUNMLEdBQUcsQ0FBQ1AsVUFBVVE7SUFDN0I7QUFDSjtBQUVPLE1BQU1VO0lBQ1QsYUFBYztJQUNWLDJEQUEyRDtJQUMvRDtJQUVBQyxnQkFBZ0JDLFVBQWUsRUFBUTtJQUNuQyw4RUFBOEU7SUFDOUUsb0ZBQW9GO0lBQ3hGO0lBRUFDLHNCQUFzQkMsSUFBUyxFQUFVO1FBQ3JDLHlFQUF5RTtRQUN6RSw2REFBNkQ7UUFDN0QsT0FBTyxHQUFHLDJCQUEyQjtJQUN6QztJQUVBQyw0QkFBNEJDLFlBQWlCLEVBQVE7SUFDakQsb0VBQW9FO0lBQ3BFLDBEQUEwRDtJQUM5RDtBQUNKO0FBRU8sTUFBTUM7SUFDVCxhQUFjO0lBQ1YsMENBQTBDO0lBQzlDO0lBRUEsNkVBQTZFO0lBQzdFQyxjQUFjQyxZQUFvQixFQUFFQyxZQUFtQixFQUFFUixVQUFlLEVBQU87UUFDM0UsdUZBQXVGO1FBQ3ZGLHFDQUFxQztRQUNyQyxPQUFPLENBQUM7SUFDWjtJQUVBLHlDQUF5QztJQUN6Q1MsY0FBY0YsWUFBb0IsRUFBRVAsVUFBZSxFQUEyQjtRQUMxRSwwQ0FBMEM7UUFDMUMsT0FBTztJQUNYO0FBQ0oiLCJzb3VyY2VzIjpbIi9ob21lL2FkZWJheW8vRGVza3RvcC9ib3RfYm90L2NyeXB0by10cmFkaW5nLWJvdC9zcmMvYm90L21hY2hpbmUtbGVhcm5pbmcvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBNTE1vZGVsIHtcbiAgICBwcmVkaWN0KGZlYXR1cmVzOiBudW1iZXJbXSk6IG51bWJlcjtcbiAgICBmaXQoZmVhdHVyZXM6IG51bWJlcltdW10sIHRhcmdldHM6IG51bWJlcltdKTogdm9pZDtcbn1cblxuZXhwb3J0IGNsYXNzIFNpbXBsZVJlZ3Jlc3Npb25Nb2RlbCBpbXBsZW1lbnRzIE1MTW9kZWwge1xuICAgIHByaXZhdGUgd2VpZ2h0czogbnVtYmVyW10gPSBbXTtcblxuICAgIHByZWRpY3QoZmVhdHVyZXM6IG51bWJlcltdKTogbnVtYmVyIHtcbiAgICAgICAgaWYgKHRoaXMud2VpZ2h0cy5sZW5ndGggIT09IGZlYXR1cmVzLmxlbmd0aCkgcmV0dXJuIDA7XG4gICAgICAgIHJldHVybiBmZWF0dXJlcy5yZWR1Y2UoKHN1bSwgZiwgaSkgPT4gc3VtICsgZiAqIHRoaXMud2VpZ2h0c1tpXSwgMCk7XG4gICAgfVxuXG4gICAgZml0KGZlYXR1cmVzOiBudW1iZXJbXVtdLCB0YXJnZXRzOiBudW1iZXJbXSk6IHZvaWQge1xuICAgICAgICAvLyBQbGFjZWhvbGRlcjogc2V0IGFsbCB3ZWlnaHRzIHRvIDFcbiAgICAgICAgdGhpcy53ZWlnaHRzID0gQXJyYXkoZmVhdHVyZXNbMF0ubGVuZ3RoKS5maWxsKDEpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0cmF0ZWd5QWRhcHRlciB7XG4gICAgcHJpdmF0ZSBtb2RlbDogTUxNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKG1vZGVsPzogTUxNb2RlbCkge1xuICAgICAgICB0aGlzLm1vZGVsID0gbW9kZWwgfHwgbmV3IFNpbXBsZVJlZ3Jlc3Npb25Nb2RlbCgpO1xuICAgIH1cblxuICAgIHB1YmxpYyBhZGFwdFNpZ25hbChzdHJhdGVneVNpZ25hbDogJ0JVWScgfCAnU0VMTCcgfCAnSE9MRCcsIG1hcmtldEZlYXR1cmVzOiBudW1iZXJbXSk6ICdCVVknIHwgJ1NFTEwnIHwgJ0hPTEQnIHtcbiAgICAgICAgY29uc3QgcHJlZGljdGlvbiA9IHRoaXMubW9kZWwucHJlZGljdChtYXJrZXRGZWF0dXJlcyk7XG4gICAgICAgIGlmIChwcmVkaWN0aW9uID4gMC41KSByZXR1cm4gJ0JVWSc7XG4gICAgICAgIGlmIChwcmVkaWN0aW9uIDwgLTAuNSkgcmV0dXJuICdTRUxMJztcbiAgICAgICAgcmV0dXJuIHN0cmF0ZWd5U2lnbmFsO1xuICAgIH1cblxuICAgIHB1YmxpYyB0cmFpbihmZWF0dXJlczogbnVtYmVyW11bXSwgdGFyZ2V0czogbnVtYmVyW10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tb2RlbC5maXQoZmVhdHVyZXMsIHRhcmdldHMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1hY2hpbmVMZWFybmluZyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgYW55IG5lY2Vzc2FyeSBwcm9wZXJ0aWVzIGZvciBtYWNoaW5lIGxlYXJuaW5nXG4gICAgfVxuXG4gICAgYWRhcHRTdHJhdGVnaWVzKG1hcmtldERhdGE6IGFueSk6IHZvaWQge1xuICAgICAgICAvLyBJbXBsZW1lbnQgbG9naWMgdG8gYWRhcHQgdHJhZGluZyBzdHJhdGVnaWVzIGJhc2VkIG9uIGxpdmUgbWFya2V0IGNvbmRpdGlvbnNcbiAgICAgICAgLy8gVGhpcyBjb3VsZCBpbnZvbHZlIHRyYWluaW5nIG1vZGVscyBvciBhZGp1c3RpbmcgcGFyYW1ldGVycyBiYXNlZCBvbiBtYXJrZXQgdHJlbmRzXG4gICAgfVxuXG4gICAgcHJlZGljdE1hcmtldE1vdmVtZW50KGRhdGE6IGFueSk6IG51bWJlciB7XG4gICAgICAgIC8vIEltcGxlbWVudCBhIG1ldGhvZCB0byBwcmVkaWN0IG1hcmtldCBtb3ZlbWVudCBiYXNlZCBvbiBoaXN0b3JpY2FsIGRhdGFcbiAgICAgICAgLy8gUmV0dXJuIGEgcHJlZGljdGlvbiB2YWx1ZSAoZS5nLiwgcHJpY2UgbW92ZW1lbnQgZGlyZWN0aW9uKVxuICAgICAgICByZXR1cm4gMDsgLy8gUGxhY2Vob2xkZXIgcmV0dXJuIHZhbHVlXG4gICAgfVxuXG4gICAgZXZhbHVhdGVTdHJhdGVneVBlcmZvcm1hbmNlKHN0cmF0ZWd5RGF0YTogYW55KTogdm9pZCB7XG4gICAgICAgIC8vIEltcGxlbWVudCBsb2dpYyB0byBldmFsdWF0ZSB0aGUgcGVyZm9ybWFuY2Ugb2YgdHJhZGluZyBzdHJhdGVnaWVzXG4gICAgICAgIC8vIFRoaXMgY291bGQgaW52b2x2ZSBiYWNrdGVzdGluZyBvciBhbmFseXppbmcgcGFzdCB0cmFkZXNcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYWNoaW5lTGVhcm5pbmdBZGFwdGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBNTCBtb2RlbCwgbG9hZCB3ZWlnaHRzLCBldGMuXG4gICAgfVxuXG4gICAgLy8gRXhhbXBsZTogVXBkYXRlIHN0cmF0ZWd5IHBhcmFtZXRlcnMgYmFzZWQgb24gcmVjZW50IHRyYWRlcyBhbmQgbWFya2V0IGRhdGFcbiAgICBhZGFwdFN0cmF0ZWd5KHN0cmF0ZWd5TmFtZTogc3RyaW5nLCB0cmFkZUhpc3Rvcnk6IGFueVtdLCBtYXJrZXREYXRhOiBhbnkpOiBhbnkge1xuICAgICAgICAvLyBQbGFjZWhvbGRlcjogSW1wbGVtZW50IE1MIGxvZ2ljIGhlcmUgKGUuZy4sIHJlaW5mb3JjZW1lbnQgbGVhcm5pbmcsIG9ubGluZSBsZWFybmluZylcbiAgICAgICAgLy8gUmV0dXJuIHVwZGF0ZWQgc3RyYXRlZ3kgcGFyYW1ldGVyc1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLy8gRXhhbXBsZTogUHJlZGljdCBuZXh0IGFjdGlvbiBvciBzaWduYWxcbiAgICBwcmVkaWN0U2lnbmFsKHN0cmF0ZWd5TmFtZTogc3RyaW5nLCBtYXJrZXREYXRhOiBhbnkpOiAnQlVZJyB8ICdTRUxMJyB8ICdIT0xEJyB7XG4gICAgICAgIC8vIFBsYWNlaG9sZGVyOiBJbXBsZW1lbnQgcHJlZGljdGlvbiBsb2dpY1xuICAgICAgICByZXR1cm4gJ0hPTEQnO1xuICAgIH1cbn0iXSwibmFtZXMiOlsiU2ltcGxlUmVncmVzc2lvbk1vZGVsIiwicHJlZGljdCIsImZlYXR1cmVzIiwid2VpZ2h0cyIsImxlbmd0aCIsInJlZHVjZSIsInN1bSIsImYiLCJpIiwiZml0IiwidGFyZ2V0cyIsIkFycmF5IiwiZmlsbCIsIlN0cmF0ZWd5QWRhcHRlciIsIm1vZGVsIiwiYWRhcHRTaWduYWwiLCJzdHJhdGVneVNpZ25hbCIsIm1hcmtldEZlYXR1cmVzIiwicHJlZGljdGlvbiIsInRyYWluIiwiTWFjaGluZUxlYXJuaW5nIiwiYWRhcHRTdHJhdGVnaWVzIiwibWFya2V0RGF0YSIsInByZWRpY3RNYXJrZXRNb3ZlbWVudCIsImRhdGEiLCJldmFsdWF0ZVN0cmF0ZWd5UGVyZm9ybWFuY2UiLCJzdHJhdGVneURhdGEiLCJNYWNoaW5lTGVhcm5pbmdBZGFwdGVyIiwiYWRhcHRTdHJhdGVneSIsInN0cmF0ZWd5TmFtZSIsInRyYWRlSGlzdG9yeSIsInByZWRpY3RTaWduYWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./crypto-trading-bot/src/bot/machine-learning/index.ts\n");

/***/ }),

/***/ "(api-node)/./crypto-trading-bot/src/bot/notifications/telegram.ts":
/*!**************************************************************!*\
  !*** ./crypto-trading-bot/src/bot/notifications/telegram.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TelegramNotifier: () => (/* binding */ TelegramNotifier)\n/* harmony export */ });\nclass TelegramNotifier {\n    constructor(botToken, chatId){\n        this.botToken = botToken;\n        this.chatId = chatId;\n    }\n    async sendTradeNotification(message) {\n        const url = `https://api.telegram.org/bot${this.botToken}/sendMessage`;\n        const payload = {\n            chat_id: this.chatId,\n            text: message\n        };\n        try {\n            const response = await fetch(url, {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(payload)\n            });\n            if (!response.ok) {\n                throw new Error(`Error sending message: ${response.statusText}`);\n            }\n        } catch (error) {\n            console.error('Failed to send Telegram notification:', error);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2NyeXB0by10cmFkaW5nLWJvdC9zcmMvYm90L25vdGlmaWNhdGlvbnMvdGVsZWdyYW0udHMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPLE1BQU1BO0lBSVQsWUFBWUMsUUFBZ0IsRUFBRUMsTUFBYyxDQUFFO1FBQzFDLElBQUksQ0FBQ0QsUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUNDLE1BQU0sR0FBR0E7SUFDbEI7SUFFQSxNQUFhQyxzQkFBc0JDLE9BQWUsRUFBaUI7UUFDL0QsTUFBTUMsTUFBTSxDQUFDLDRCQUE0QixFQUFFLElBQUksQ0FBQ0osUUFBUSxDQUFDLFlBQVksQ0FBQztRQUN0RSxNQUFNSyxVQUFVO1lBQ1pDLFNBQVMsSUFBSSxDQUFDTCxNQUFNO1lBQ3BCTSxNQUFNSjtRQUNWO1FBRUEsSUFBSTtZQUNBLE1BQU1LLFdBQVcsTUFBTUMsTUFBTUwsS0FBSztnQkFDOUJNLFFBQVE7Z0JBQ1JDLFNBQVM7b0JBQ0wsZ0JBQWdCO2dCQUNwQjtnQkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDVDtZQUN6QjtZQUVBLElBQUksQ0FBQ0csU0FBU08sRUFBRSxFQUFFO2dCQUNkLE1BQU0sSUFBSUMsTUFBTSxDQUFDLHVCQUF1QixFQUFFUixTQUFTUyxVQUFVLEVBQUU7WUFDbkU7UUFDSixFQUFFLE9BQU9DLE9BQU87WUFDWkMsUUFBUUQsS0FBSyxDQUFDLHlDQUF5Q0E7UUFDM0Q7SUFDSjtBQUNKIiwic291cmNlcyI6WyIvaG9tZS9hZGViYXlvL0Rlc2t0b3AvYm90X2JvdC9jcnlwdG8tdHJhZGluZy1ib3Qvc3JjL2JvdC9ub3RpZmljYXRpb25zL3RlbGVncmFtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBUZWxlZ3JhbU5vdGlmaWVyIHtcbiAgICBwcml2YXRlIGJvdFRva2VuOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBjaGF0SWQ6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKGJvdFRva2VuOiBzdHJpbmcsIGNoYXRJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYm90VG9rZW4gPSBib3RUb2tlbjtcbiAgICAgICAgdGhpcy5jaGF0SWQgPSBjaGF0SWQ7XG4gICAgfVxuXG4gICAgcHVibGljIGFzeW5jIHNlbmRUcmFkZU5vdGlmaWNhdGlvbihtZXNzYWdlOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgdXJsID0gYGh0dHBzOi8vYXBpLnRlbGVncmFtLm9yZy9ib3Qke3RoaXMuYm90VG9rZW59L3NlbmRNZXNzYWdlYDtcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgIGNoYXRfaWQ6IHRoaXMuY2hhdElkLFxuICAgICAgICAgICAgdGV4dDogbWVzc2FnZSxcbiAgICAgICAgfTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBzZW5kaW5nIG1lc3NhZ2U6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIFRlbGVncmFtIG5vdGlmaWNhdGlvbjonLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9XG59Il0sIm5hbWVzIjpbIlRlbGVncmFtTm90aWZpZXIiLCJib3RUb2tlbiIsImNoYXRJZCIsInNlbmRUcmFkZU5vdGlmaWNhdGlvbiIsIm1lc3NhZ2UiLCJ1cmwiLCJwYXlsb2FkIiwiY2hhdF9pZCIsInRleHQiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5Iiwib2siLCJFcnJvciIsInN0YXR1c1RleHQiLCJlcnJvciIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./crypto-trading-bot/src/bot/notifications/telegram.ts\n");

/***/ }),

/***/ "(api-node)/./crypto-trading-bot/src/bot/user/ExchangeInstanceManager.ts":
/*!********************************************************************!*\
  !*** ./crypto-trading-bot/src/bot/user/ExchangeInstanceManager.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _machine_learning__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../machine-learning */ \"(api-node)/./crypto-trading-bot/src/bot/machine-learning/index.ts\");\n/* harmony import */ var _exchange_binance__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../exchange/binance */ \"(api-node)/./crypto-trading-bot/src/bot/exchange/binance.ts\");\n\n\n// Singleton for managing per-user exchange instances\nclass ExchangeInstanceManager {\n    static{\n        this.instances = new Map();\n    }\n    static getInstance(user) {\n        if (!this.instances.has(user.id)) {\n            const mlAdapter = new _machine_learning__WEBPACK_IMPORTED_MODULE_0__.MachineLearningAdapter();\n            this.instances.set(user.id, new _exchange_binance__WEBPACK_IMPORTED_MODULE_1__.BinanceExchange(user.apiKey, user.apiSecret, user, mlAdapter));\n        }\n        return this.instances.get(user.id);\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ExchangeInstanceManager);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2NyeXB0by10cmFkaW5nLWJvdC9zcmMvYm90L3VzZXIvRXhjaGFuZ2VJbnN0YW5jZU1hbmFnZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQzZEO0FBQ1A7QUFFdEQscURBQXFEO0FBQ3JELE1BQU1FOzthQUNXQyxZQUEwQyxJQUFJQzs7SUFFN0QsT0FBT0MsWUFBWUMsSUFBVSxFQUFtQjtRQUM5QyxJQUFJLENBQUMsSUFBSSxDQUFDSCxTQUFTLENBQUNJLEdBQUcsQ0FBQ0QsS0FBS0UsRUFBRSxHQUFHO1lBQ2hDLE1BQU1DLFlBQVksSUFBSVQscUVBQXNCQTtZQUM1QyxJQUFJLENBQUNHLFNBQVMsQ0FBQ08sR0FBRyxDQUFDSixLQUFLRSxFQUFFLEVBQUUsSUFBSVAsOERBQWVBLENBQUNLLEtBQUtLLE1BQU0sRUFBRUwsS0FBS00sU0FBUyxFQUFFTixNQUFNRztRQUNyRjtRQUNBLE9BQU8sSUFBSSxDQUFDTixTQUFTLENBQUNVLEdBQUcsQ0FBQ1AsS0FBS0UsRUFBRTtJQUNuQztBQUNGO0FBRUEsaUVBQWVOLHVCQUF1QkEsRUFBQyIsInNvdXJjZXMiOlsiL2hvbWUvYWRlYmF5by9EZXNrdG9wL2JvdF9ib3QvY3J5cHRvLXRyYWRpbmctYm90L3NyYy9ib3QvdXNlci9FeGNoYW5nZUluc3RhbmNlTWFuYWdlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyTWFuYWdlciwgVXNlciB9IGZyb20gJy4vVXNlck1hbmFnZXInO1xuaW1wb3J0IHsgTWFjaGluZUxlYXJuaW5nQWRhcHRlciB9IGZyb20gJy4uL21hY2hpbmUtbGVhcm5pbmcnO1xuaW1wb3J0IHsgQmluYW5jZUV4Y2hhbmdlIH0gZnJvbSAnLi4vZXhjaGFuZ2UvYmluYW5jZSc7XG5cbi8vIFNpbmdsZXRvbiBmb3IgbWFuYWdpbmcgcGVyLXVzZXIgZXhjaGFuZ2UgaW5zdGFuY2VzXG5jbGFzcyBFeGNoYW5nZUluc3RhbmNlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogTWFwPHN0cmluZywgQmluYW5jZUV4Y2hhbmdlPiA9IG5ldyBNYXAoKTtcblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UodXNlcjogVXNlcik6IEJpbmFuY2VFeGNoYW5nZSB7XG4gICAgaWYgKCF0aGlzLmluc3RhbmNlcy5oYXModXNlci5pZCkpIHtcbiAgICAgIGNvbnN0IG1sQWRhcHRlciA9IG5ldyBNYWNoaW5lTGVhcm5pbmdBZGFwdGVyKCk7XG4gICAgICB0aGlzLmluc3RhbmNlcy5zZXQodXNlci5pZCwgbmV3IEJpbmFuY2VFeGNoYW5nZSh1c2VyLmFwaUtleSwgdXNlci5hcGlTZWNyZXQsIHVzZXIsIG1sQWRhcHRlcikpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuZ2V0KHVzZXIuaWQpITtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFeGNoYW5nZUluc3RhbmNlTWFuYWdlcjtcbiJdLCJuYW1lcyI6WyJNYWNoaW5lTGVhcm5pbmdBZGFwdGVyIiwiQmluYW5jZUV4Y2hhbmdlIiwiRXhjaGFuZ2VJbnN0YW5jZU1hbmFnZXIiLCJpbnN0YW5jZXMiLCJNYXAiLCJnZXRJbnN0YW5jZSIsInVzZXIiLCJoYXMiLCJpZCIsIm1sQWRhcHRlciIsInNldCIsImFwaUtleSIsImFwaVNlY3JldCIsImdldCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./crypto-trading-bot/src/bot/user/ExchangeInstanceManager.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecent-trades&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecent-trades.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecent-trades&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecent-trades.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   handler: () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/api-utils */ \"(api-node)/./node_modules/next/dist/server/api-utils/index.js\");\n/* harmony import */ var next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_recent_trades_ts__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/api/recent-trades.ts */ \"(api-node)/./pages/api/recent-trades.ts\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(api-node)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(api-node)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__);\n\n\n\n\n// Import the userland code.\n\n\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_recent_trades_ts__WEBPACK_IMPORTED_MODULE_4__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_3__.hoist)(_pages_api_recent_trades_ts__WEBPACK_IMPORTED_MODULE_4__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_2__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/recent-trades\",\n        pathname: \"/api/recent-trades\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_recent_trades_ts__WEBPACK_IMPORTED_MODULE_4__,\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || ''\n});\nasync function handler(req, res, ctx) {\n    let srcPage = \"/api/recent-trades\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {}\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return;\n    }\n    const { query, params, prerenderManifest, routerServerContext } = prepareResult;\n    try {\n        const method = req.method || 'GET';\n        const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.getTracer)();\n        const activeSpan = tracer.getActiveScopeSpan();\n        const onRequestError = routeModule.instrumentationOnRequestError.bind(routeModule);\n        const invokeRouteModule = async (span)=>routeModule.render(req, res, {\n                query: {\n                    ...query,\n                    ...params\n                },\n                params,\n                allowedRevalidateHeaderKeys: [],\n                multiZoneDraftMode: Boolean(false),\n                trustHostHeader: false,\n                // TODO: get this from from runtime env so manifest\n                // doesn't need to load\n                previewProps: prerenderManifest.preview,\n                propagateError: false,\n                dev: routeModule.isDev,\n                page: \"/api/recent-trades\",\n                internalRevalidate: routerServerContext == null ? void 0 : routerServerContext.revalidate,\n                onError: (...args)=>onRequestError(req, ...args)\n            }).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await invokeRouteModule(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_6__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_5__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, invokeRouteModule));\n        }\n    } catch (err) {\n        // we re-throw in dev to show the error overlay\n        if (routeModule.isDev) {\n            throw err;\n        }\n        // this is technically an invariant as error handling\n        // should be done inside of api-resolver onError\n        (0,next_dist_server_api_utils__WEBPACK_IMPORTED_MODULE_0__.sendError)(res, 500, 'Internal Server Error');\n    } finally{\n        // We don't allow any waitUntil work in pages API routes currently\n        // so if callback is present return with resolved promise since no\n        // pending work\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n    }\n}\n\n//# sourceMappingURL=pages-api.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGcmVjZW50LXRyYWRlcyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGcmVjZW50LXRyYWRlcy50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUQ7QUFDQztBQUN1QztBQUNyQztBQUMxRDtBQUN5RDtBQUNlO0FBQ0Y7QUFDdEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHdEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx3REFBUTtBQUNwQztBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1QztBQUMvRCxDQUFDO0FBQ007QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsS0FBcUIsRUFBRSxFQUUxQjtBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSx3REFBd0Q7QUFDcEU7QUFDQTtBQUNBLHVCQUF1Qiw0RUFBUztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSw2Q0FBNkMsRUFBNkM7QUFDMUYsNENBQTRDLEtBQXdDO0FBQ3BGLGlDQUFpQyxLQUFvQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsZ0ZBQWM7QUFDL0UsK0RBQStELHlDQUF5QztBQUN4RztBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQyxRQUFRLEVBQUUsTUFBTTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGtCQUFrQjtBQUNsQix1Q0FBdUMsUUFBUSxFQUFFLFFBQVE7QUFDekQ7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsNkVBQTZFLGdGQUFjO0FBQzNGLGlDQUFpQyxRQUFRLEVBQUUsUUFBUTtBQUNuRCwwQkFBMEIsdUVBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxRUFBUztBQUNqQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VuZEVycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYXBpLXV0aWxzXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9yZWNlbnQtdHJhZGVzLnRzXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3JlY2VudC10cmFkZXNcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9yZWNlbnQtdHJhZGVzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgdXNlcmxhbmQsXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnXG59KTtcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzLCBjdHgpIHtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9yZWNlbnQtdHJhZGVzXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH1cbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgeyBxdWVyeSwgcGFyYW1zLCBwcmVyZW5kZXJNYW5pZmVzdCwgcm91dGVyU2VydmVyQ29udGV4dCB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgICAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICAgICAgY29uc3QgYWN0aXZlU3BhbiA9IHRyYWNlci5nZXRBY3RpdmVTY29wZVNwYW4oKTtcbiAgICAgICAgY29uc3Qgb25SZXF1ZXN0RXJyb3IgPSByb3V0ZU1vZHVsZS5pbnN0cnVtZW50YXRpb25PblJlcXVlc3RFcnJvci5iaW5kKHJvdXRlTW9kdWxlKTtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PnJvdXRlTW9kdWxlLnJlbmRlcihyZXEsIHJlcywge1xuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnF1ZXJ5LFxuICAgICAgICAgICAgICAgICAgICAuLi5wYXJhbXNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHBhcmFtcyxcbiAgICAgICAgICAgICAgICBhbGxvd2VkUmV2YWxpZGF0ZUhlYWRlcktleXM6IHByb2Nlc3MuZW52Ll9fTkVYVF9BTExPV0VEX1JFVkFMSURBVEVfSEVBREVSUyxcbiAgICAgICAgICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGU6IEJvb2xlYW4ocHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERSksXG4gICAgICAgICAgICAgICAgdHJ1c3RIb3N0SGVhZGVyOiBwcm9jZXNzLmVudi5fX05FWFRfVFJVU1RfSE9TVF9IRUFERVIsXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogZ2V0IHRoaXMgZnJvbSBmcm9tIHJ1bnRpbWUgZW52IHNvIG1hbmlmZXN0XG4gICAgICAgICAgICAgICAgLy8gZG9lc24ndCBuZWVkIHRvIGxvYWRcbiAgICAgICAgICAgICAgICBwcmV2aWV3UHJvcHM6IHByZXJlbmRlck1hbmlmZXN0LnByZXZpZXcsXG4gICAgICAgICAgICAgICAgcHJvcGFnYXRlRXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGRldjogcm91dGVNb2R1bGUuaXNEZXYsXG4gICAgICAgICAgICAgICAgcGFnZTogXCIvYXBpL3JlY2VudC10cmFkZXNcIixcbiAgICAgICAgICAgICAgICBpbnRlcm5hbFJldmFsaWRhdGU6IHJvdXRlclNlcnZlckNvbnRleHQgPT0gbnVsbCA/IHZvaWQgMCA6IHJvdXRlclNlcnZlckNvbnRleHQucmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICBvbkVycm9yOiAoLi4uYXJncyk9Pm9uUmVxdWVzdEVycm9yKHJlcSwgLi4uYXJncylcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCk9PntcbiAgICAgICAgICAgICAgICBpZiAoIXNwYW4pIHJldHVybjtcbiAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAnaHR0cC5zdGF0dXNfY29kZSc6IHJlcy5zdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICAnbmV4dC5yc2MnOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJvb3RTcGFuQXR0cmlidXRlcyA9IHRyYWNlci5nZXRSb290U3BhbkF0dHJpYnV0ZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBXZSB3ZXJlIHVuYWJsZSB0byBnZXQgYXR0cmlidXRlcywgcHJvYmFibHkgT1RFTCBpcyBub3QgZW5hYmxlZFxuICAgICAgICAgICAgICAgIGlmICghcm9vdFNwYW5BdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJykgIT09IEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBVbmV4cGVjdGVkIHJvb3Qgc3BhbiB0eXBlICcke3Jvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQuc3Bhbl90eXBlJyl9Jy4gUGxlYXNlIHJlcG9ydCB0aGlzIE5leHQuanMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL3ZlcmNlbC9uZXh0LmpzYCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgcm91dGUgPSByb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnJvdXRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHJvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hbWUgPSBgJHttZXRob2R9ICR7cm91dGV9YDtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQuc3Bhbl9uYW1lJzogbmFtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKG5hbWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShgJHttZXRob2R9ICR7cmVxLnVybH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgLy8gVE9ETzogYWN0aXZlU3BhbiBjb2RlIHBhdGggaXMgZm9yIHdoZW4gd3JhcHBlZCBieVxuICAgICAgICAvLyBuZXh0LXNlcnZlciBjYW4gYmUgcmVtb3ZlZCB3aGVuIHRoaXMgaXMgbm8gbG9uZ2VyIHVzZWRcbiAgICAgICAgaWYgKGFjdGl2ZVNwYW4pIHtcbiAgICAgICAgICAgIGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGFjdGl2ZVNwYW4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXdhaXQgdHJhY2VyLndpdGhQcm9wYWdhdGVkQ29udGV4dChyZXEuaGVhZGVycywgKCk9PnRyYWNlci50cmFjZShCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0LCB7XG4gICAgICAgICAgICAgICAgICAgIHNwYW5OYW1lOiBgJHttZXRob2R9ICR7cmVxLnVybH1gLFxuICAgICAgICAgICAgICAgICAgICBraW5kOiBTcGFuS2luZC5TRVJWRVIsXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLm1ldGhvZCc6IG1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnRhcmdldCc6IHJlcS51cmxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIGludm9rZVJvdXRlTW9kdWxlKSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gd2UgcmUtdGhyb3cgaW4gZGV2IHRvIHNob3cgdGhlIGVycm9yIG92ZXJsYXlcbiAgICAgICAgaWYgKHJvdXRlTW9kdWxlLmlzRGV2KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhpcyBpcyB0ZWNobmljYWxseSBhbiBpbnZhcmlhbnQgYXMgZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgLy8gc2hvdWxkIGJlIGRvbmUgaW5zaWRlIG9mIGFwaS1yZXNvbHZlciBvbkVycm9yXG4gICAgICAgIHNlbmRFcnJvcihyZXMsIDUwMCwgJ0ludGVybmFsIFNlcnZlciBFcnJvcicpO1xuICAgIH0gZmluYWxseXtcbiAgICAgICAgLy8gV2UgZG9uJ3QgYWxsb3cgYW55IHdhaXRVbnRpbCB3b3JrIGluIHBhZ2VzIEFQSSByb3V0ZXMgY3VycmVudGx5XG4gICAgICAgIC8vIHNvIGlmIGNhbGxiYWNrIGlzIHByZXNlbnQgcmV0dXJuIHdpdGggcmVzb2x2ZWQgcHJvbWlzZSBzaW5jZSBub1xuICAgICAgICAvLyBwZW5kaW5nIHdvcmtcbiAgICAgICAgY3R4LndhaXRVbnRpbCA9PSBudWxsID8gdm9pZCAwIDogY3R4LndhaXRVbnRpbC5jYWxsKGN0eCwgUHJvbWlzZS5yZXNvbHZlKCkpO1xuICAgIH1cbn1cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecent-trades&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecent-trades.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/recent-trades.ts":
/*!************************************!*\
  !*** ./pages/api/recent-trades.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _crypto_trading_bot_src_bot_user_ExchangeInstanceManager__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../crypto-trading-bot/src/bot/user/ExchangeInstanceManager */ \"(api-node)/./crypto-trading-bot/src/bot/user/ExchangeInstanceManager.ts\");\n\nfunction handler(req, res) {\n    const user = {\n        id: 'guest',\n        name: 'Guest',\n        apiKey: '',\n        apiSecret: ''\n    };\n    const exchange = _crypto_trading_bot_src_bot_user_ExchangeInstanceManager__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getInstance(user);\n    const limit = req.query.limit ? parseInt(req.query.limit, 10) : 10;\n    const raw = exchange.getRecentTrades(limit) || [];\n    const trades = raw.map((t, idx)=>{\n        const created = t.time ? new Date(t.time) : new Date();\n        const id = t.result && (t.result.orderId ?? t.result.clientOrderId) ? String(t.result.orderId ?? t.result.clientOrderId) : `${t.symbol}-${t.side}-${created.getTime()}-${idx}`;\n        const statusRaw = (t.result?.status || '').toString().toUpperCase();\n        const status = statusRaw === 'FILLED' ? 'closed' : statusRaw === 'CANCELED' ? 'closed' : 'pending';\n        return {\n            id,\n            pair: t.symbol || '',\n            size: typeof t.quantity === 'number' ? t.quantity : Number(t.quantity) || 0,\n            entryPrice: typeof t.price === 'number' ? t.price : Number(t.price) || 0,\n            stopLoss: typeof t.stopLoss === 'number' ? t.stopLoss : Number(t.stopLoss) || 0,\n            takeProfit: typeof t.takeProfit === 'number' ? t.takeProfit : Number(t.takeProfit) || 0,\n            status,\n            createdAt: created,\n            updatedAt: new Date()\n        };\n    });\n    return res.status(200).json(trades);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9yZWNlbnQtdHJhZGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQ29HO0FBR3JGLFNBQVNDLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQ3ZFLE1BQU1DLE9BQU87UUFBRUMsSUFBSTtRQUFTQyxNQUFNO1FBQVNDLFFBQVE7UUFBSUMsV0FBVztJQUFHO0lBQ3JFLE1BQU1DLFdBQVdULDRHQUFtQyxDQUFDSTtJQUNyRCxNQUFNTyxRQUFRVCxJQUFJVSxLQUFLLENBQUNELEtBQUssR0FBR0UsU0FBU1gsSUFBSVUsS0FBSyxDQUFDRCxLQUFLLEVBQVksTUFBTTtJQUMxRSxNQUFNRyxNQUFPTCxTQUFTTSxlQUFlLENBQUNKLFVBQVUsRUFBRTtJQUVsRCxNQUFNSyxTQUFrQkYsSUFBSUcsR0FBRyxDQUFDLENBQUNDLEdBQVFDO1FBQ3ZDLE1BQU1DLFVBQVVGLEVBQUVHLElBQUksR0FBRyxJQUFJQyxLQUFLSixFQUFFRyxJQUFJLElBQUksSUFBSUM7UUFDaEQsTUFBTWpCLEtBQUssRUFBR2tCLE1BQU0sSUFBS0wsQ0FBQUEsRUFBRUssTUFBTSxDQUFDQyxPQUFPLElBQUlOLEVBQUVLLE1BQU0sQ0FBQ0UsYUFBYSxJQUMvREMsT0FBT1IsRUFBRUssTUFBTSxDQUFDQyxPQUFPLElBQUlOLEVBQUVLLE1BQU0sQ0FBQ0UsYUFBYSxJQUNqRCxHQUFHUCxFQUFFUyxNQUFNLENBQUMsQ0FBQyxFQUFFVCxFQUFFVSxJQUFJLENBQUMsQ0FBQyxFQUFFUixRQUFRUyxPQUFPLEdBQUcsQ0FBQyxFQUFFVixLQUFLO1FBRXZELE1BQU1XLFlBQVksQ0FBQ1osRUFBRUssTUFBTSxFQUFFUSxVQUFVLEVBQUMsRUFBR0MsUUFBUSxHQUFHQyxXQUFXO1FBQ2pFLE1BQU1GLFNBQTBCRCxjQUFjLFdBQVcsV0FBV0EsY0FBYyxhQUFhLFdBQVc7UUFFMUcsT0FBTztZQUNMekI7WUFDQTZCLE1BQU1oQixFQUFFUyxNQUFNLElBQUk7WUFDbEJRLE1BQU0sT0FBT2pCLEVBQUVrQixRQUFRLEtBQUssV0FBV2xCLEVBQUVrQixRQUFRLEdBQUdDLE9BQU9uQixFQUFFa0IsUUFBUSxLQUFLO1lBQzFFRSxZQUFZLE9BQU9wQixFQUFFcUIsS0FBSyxLQUFLLFdBQVdyQixFQUFFcUIsS0FBSyxHQUFHRixPQUFPbkIsRUFBRXFCLEtBQUssS0FBSztZQUN2RUMsVUFBVSxPQUFPdEIsRUFBRXNCLFFBQVEsS0FBSyxXQUFXdEIsRUFBRXNCLFFBQVEsR0FBR0gsT0FBT25CLEVBQUVzQixRQUFRLEtBQUs7WUFDOUVDLFlBQVksT0FBT3ZCLEVBQUV1QixVQUFVLEtBQUssV0FBV3ZCLEVBQUV1QixVQUFVLEdBQUdKLE9BQU9uQixFQUFFdUIsVUFBVSxLQUFLO1lBQ3RGVjtZQUNBVyxXQUFXdEI7WUFDWHVCLFdBQVcsSUFBSXJCO1FBQ2pCO0lBQ0Y7SUFFQSxPQUFPbkIsSUFBSTRCLE1BQU0sQ0FBQyxLQUFLYSxJQUFJLENBQUM1QjtBQUM5QiIsInNvdXJjZXMiOlsiL2hvbWUvYWRlYmF5by9EZXNrdG9wL2JvdF9ib3QvcGFnZXMvYXBpL3JlY2VudC10cmFkZXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgRXhjaGFuZ2VJbnN0YW5jZU1hbmFnZXIgZnJvbSAnLi4vLi4vY3J5cHRvLXRyYWRpbmctYm90L3NyYy9ib3QvdXNlci9FeGNoYW5nZUluc3RhbmNlTWFuYWdlcic7XG5pbXBvcnQgdHlwZSB7IFRyYWRlIH0gZnJvbSAnLi4vLi4vY3J5cHRvLXRyYWRpbmctYm90L3NyYy90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgY29uc3QgdXNlciA9IHsgaWQ6ICdndWVzdCcsIG5hbWU6ICdHdWVzdCcsIGFwaUtleTogJycsIGFwaVNlY3JldDogJycgfTtcbiAgY29uc3QgZXhjaGFuZ2UgPSBFeGNoYW5nZUluc3RhbmNlTWFuYWdlci5nZXRJbnN0YW5jZSh1c2VyIGFzIGFueSk7XG4gIGNvbnN0IGxpbWl0ID0gcmVxLnF1ZXJ5LmxpbWl0ID8gcGFyc2VJbnQocmVxLnF1ZXJ5LmxpbWl0IGFzIHN0cmluZywgMTApIDogMTA7XG4gIGNvbnN0IHJhdyA9IChleGNoYW5nZS5nZXRSZWNlbnRUcmFkZXMobGltaXQpIHx8IFtdKSBhcyBhbnlbXTtcblxuICBjb25zdCB0cmFkZXM6IFRyYWRlW10gPSByYXcubWFwKCh0OiBhbnksIGlkeDogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgY3JlYXRlZCA9IHQudGltZSA/IG5ldyBEYXRlKHQudGltZSkgOiBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IGlkID0gKHQucmVzdWx0ICYmICh0LnJlc3VsdC5vcmRlcklkID8/IHQucmVzdWx0LmNsaWVudE9yZGVySWQpKVxuICAgICAgPyBTdHJpbmcodC5yZXN1bHQub3JkZXJJZCA/PyB0LnJlc3VsdC5jbGllbnRPcmRlcklkKVxuICAgICAgOiBgJHt0LnN5bWJvbH0tJHt0LnNpZGV9LSR7Y3JlYXRlZC5nZXRUaW1lKCl9LSR7aWR4fWA7XG5cbiAgICBjb25zdCBzdGF0dXNSYXcgPSAodC5yZXN1bHQ/LnN0YXR1cyB8fCAnJykudG9TdHJpbmcoKS50b1VwcGVyQ2FzZSgpO1xuICAgIGNvbnN0IHN0YXR1czogVHJhZGVbJ3N0YXR1cyddID0gc3RhdHVzUmF3ID09PSAnRklMTEVEJyA/ICdjbG9zZWQnIDogc3RhdHVzUmF3ID09PSAnQ0FOQ0VMRUQnID8gJ2Nsb3NlZCcgOiAncGVuZGluZyc7XG5cbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICBwYWlyOiB0LnN5bWJvbCB8fCAnJyxcbiAgICAgIHNpemU6IHR5cGVvZiB0LnF1YW50aXR5ID09PSAnbnVtYmVyJyA/IHQucXVhbnRpdHkgOiBOdW1iZXIodC5xdWFudGl0eSkgfHwgMCxcbiAgICAgIGVudHJ5UHJpY2U6IHR5cGVvZiB0LnByaWNlID09PSAnbnVtYmVyJyA/IHQucHJpY2UgOiBOdW1iZXIodC5wcmljZSkgfHwgMCxcbiAgICAgIHN0b3BMb3NzOiB0eXBlb2YgdC5zdG9wTG9zcyA9PT0gJ251bWJlcicgPyB0LnN0b3BMb3NzIDogTnVtYmVyKHQuc3RvcExvc3MpIHx8IDAsXG4gICAgICB0YWtlUHJvZml0OiB0eXBlb2YgdC50YWtlUHJvZml0ID09PSAnbnVtYmVyJyA/IHQudGFrZVByb2ZpdCA6IE51bWJlcih0LnRha2VQcm9maXQpIHx8IDAsXG4gICAgICBzdGF0dXMsXG4gICAgICBjcmVhdGVkQXQ6IGNyZWF0ZWQsXG4gICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgfSBhcyBUcmFkZTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHRyYWRlcyk7XG59XG4iXSwibmFtZXMiOlsiRXhjaGFuZ2VJbnN0YW5jZU1hbmFnZXIiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidXNlciIsImlkIiwibmFtZSIsImFwaUtleSIsImFwaVNlY3JldCIsImV4Y2hhbmdlIiwiZ2V0SW5zdGFuY2UiLCJsaW1pdCIsInF1ZXJ5IiwicGFyc2VJbnQiLCJyYXciLCJnZXRSZWNlbnRUcmFkZXMiLCJ0cmFkZXMiLCJtYXAiLCJ0IiwiaWR4IiwiY3JlYXRlZCIsInRpbWUiLCJEYXRlIiwicmVzdWx0Iiwib3JkZXJJZCIsImNsaWVudE9yZGVySWQiLCJTdHJpbmciLCJzeW1ib2wiLCJzaWRlIiwiZ2V0VGltZSIsInN0YXR1c1JhdyIsInN0YXR1cyIsInRvU3RyaW5nIiwidG9VcHBlckNhc2UiLCJwYWlyIiwic2l6ZSIsInF1YW50aXR5IiwiTnVtYmVyIiwiZW50cnlQcmljZSIsInByaWNlIiwic3RvcExvc3MiLCJ0YWtlUHJvZml0IiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwianNvbiJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/recent-trades.ts\n");

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("assert");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "tty":
/*!**********************!*\
  !*** external "tty" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("tty");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/axios","vendor-chunks/debug","vendor-chunks/follow-redirects","vendor-chunks/supports-color","vendor-chunks/ms","vendor-chunks/has-flag"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frecent-trades&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Frecent-trades.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();